% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sa-auto.R
\name{auto_seasonal_analysis}
\alias{auto_seasonal_analysis}
\title{Automatic seasonal analysis (candidate grid + ranking)}
\usage{
auto_seasonal_analysis(
  y,
  specs = NULL,
  use_fivebest = TRUE,
  auto_outliers = TRUE,
  transform_fun = c("auto", "log", "none"),
  td_candidates = NULL,
  td_usertype = "td",
  include_easter = c("auto", "always", "off"),
  easter_len = 15L,
  include_history_top_n = 10,
  early_period_end = NULL,
  current_model = NULL,
  current_sa = NULL,
  current_seasonal = NULL,
  w_qs = 1,
  w_stability = 1,
  w_aicc = 1,
  w_rev = 0.5,
  w_dist_sa = 1,
  w_dist_seas = 0.5,
  w_engine = 1,
  engine = c("seats", "x11", "auto"),
  outlier_types = c("AO", "LS", "TC"),
  outlier_method = "AddOne",
  outlier_critical = 4,
  outlier_alpha = NULL
)
}
\arguments{
\item{y}{A time series (\code{ts}) or an object that can be converted to \code{ts}
via \code{tsbox::ts_ts()}.}

\item{specs}{Optional character vector of ARIMA specifications in the
form \code{"(p d q)(P D Q)"}. If \code{NULL}, default specs are chosen based
on the series frequency.}

\item{use_fivebest}{Logical. If \code{TRUE}, a small set of data-driven
"five best" specs (Ã  la \code{seasonal::seas(x, x11 = "")}) is added to
the candidate grid.}

\item{auto_outliers}{Logical. If \code{TRUE}, enables automatic outlier
detection in the candidate models.}

\item{transform_fun}{Transformation applied to the input series before
seasonal adjustment. \code{"auto"} selects a safe log transform if the
series is strictly positive, \code{"log"} forces a log transform, and
\code{"none"} keeps the series in levels.}

\item{td_candidates}{Optional named list of alternative trading-day
regressors, e.g. \code{list(wd = wd.m, wd1 = wd1.m)}. Each element should
be a time series aligned with \code{y}.}

\item{td_usertype}{Character string passed as \code{regression.usertype} when
\code{xreg} is used (default \code{"td"}).}

\item{include_easter}{Controls inclusion of Easter regressors:
\code{"auto"} (default) lets the procedure decide, \code{"always"} always
includes Easter, \code{"off"} never includes Easter. A logical value is
also accepted and mapped to \code{"auto"}/\code{"off"}.}

\item{easter_len}{Integer, length (in days) of the Easter effect when
included.}

\item{include_history_top_n}{Integer, number of top-ranked models for
which revision metrics over the history are computed before the
final ranking step.}

\item{early_period_end}{Reserved for future use. Optional index or date
marking the end of an early sample period used for stability checks.}

\item{current_model}{Optional incumbent \code{seasonal::seas} object used as
a baseline for distance measures and comparison.}

\item{current_sa}{Optional baseline seasonally adjusted series. If not
supplied, it is extracted from \code{current_model} when possible.}

\item{current_seasonal}{Optional baseline seasonal component. If not
supplied, it is extracted from \code{current_model} (preferring SEATS,
falling back to X-11 if needed).}

\item{w_qs}{Weight of the QS (seasonality) diagnostics in the composite
ranking score.}

\item{w_stability}{Weight of residual / stability diagnostics (e.g.
Ljung-Box) in the composite score.}

\item{w_aicc}{Weight of the information criterion (AICc) in the
composite score.}

\item{w_rev}{Weight of the revision metric (historical revision MAE) in
the composite score.}

\item{w_dist_sa}{Weight of the distance between seasonally adjusted
series (candidate vs baseline) in the composite score.}

\item{w_dist_seas}{Weight of the distance between seasonal components
(candidate vs baseline) in the composite score.}

\item{w_engine}{Weight / penalty term related to the decomposition
engine (SEATS vs X-11) in the composite score.}

\item{engine}{Engine preference for candidate models. One of
\code{"seats"}, \code{"x11"} or \code{"auto"} (tries both and lets the ranking
decide, with a small penalty for deviations from the preferred
engine).}

\item{outlier_types}{Character vector of outlier types to detect,
typically a subset of \code{c("AO", "LS", "TC")}.}

\item{outlier_method}{Character scalar giving the outlier detection
method (passed to \code{seasonal::seas()}, e.g. \code{"AddOne"}).}

\item{outlier_critical}{Numeric critical value for outlier detection
(e.g. t- or z-threshold).}

\item{outlier_alpha}{Optional numeric significance level for outlier
detection. If supplied, it is converted to a two-sided normal cutoff
for \code{outlier_critical}.}
}
\value{
An object of class \code{"auto_seasonal_analysis"} with components
such as \code{best} (best \code{seas} model), \code{table} (diagnostic and ranking
table), \code{specs_tried}, \code{frequency}, \code{transform}, \code{baseline}, and
\code{seasonality}.
}
\description{
Runs a grid of X-13ARIMA-SEATS specifications, computes diagnostics
(QS tests, residual checks, revision metrics, distance to a baseline
model, etc.), and ranks candidates using a composite score. Returns
the best model together with a diagnostic table and seasonality call.
}
